<div role="main" class="main">
  <section class="page-header py-3">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-8 text-left">
        </div>
        <div class="col-md-4">
          <ul class="breadcrumb justify-content-start justify-content-md-end mb-0">

          </ul>
        </div>
      </div>
    </div>
  </section>

  <div class="container">
    
    <h1 class="mb-2">Oogstkaart</h1>

    <div class="container-fluid text-center">    
        <div class="row content">
          <div class="col-lg-3 sidenav ">
              <select [(ngModel)]="sorting" (change)="sort($event)" class="form-control border mb-4">
                  <option value="alphabetic">Sorteer alfabetisch</option>
                  <option value="popularity">Sorteer populaire producten</option>
                  <option value="date" selected="selected">Sorteer meest recente</option>
                  <option value="price">Sorteer volgens prijs</option>
                </select>
  
                <select [(ngModel)]="catsortmodel"  (change)="sortCategory($event)" class="form-control border  mb-4">
                    <option disabled=true> Sorteer categorie </option>
                    <option value="alles"> Alle categorieën </option>
                    <option [value]="cat" *ngFor="let cat of categories"> {{cat}} </option>
                  </select>
    
          </div>
          
          <div class="col-lg-9"> 
              <div class="row justify-content-between mb-4">

                  <div class="col-auto  ">
                    <div class="d-flex align-items-center">
                      <h5>
                        <strong> {{filtereditems?.length}} </strong> resultaten</h5>
                      <a (click)='mapview(false)' class="text-color-dark text-10 ml-2" data-toggle="tooltip" data-placement="top" title="Map">
                        <i class="fas fa-map"></i>
                      </a>
                      <a (click)='mapview(true)' class="text-color-dark text-10 ml-2" data-toggle="tooltip" data-placement="top" title="Grid">
                        <i class="fas fa-th"></i>
                      </a>
                    </div>
                  </div>
                </div>
        
                <div [hidden]='isListview' class="row">
                  <div class="col-md-12">
                    <div class="text-center">
                      <h3>
                        <div #gmap style="width:100%;height:500px"></div>
                      </h3>
                    </div>
                  </div>
                </div>
                <div class="row" *ngIf="isListview">
        
                  <div *ngFor="let item of filtereditems" class="col-sm-6 mb-4">
        
                    <div class="product portfolio-item portfolio-item-style-2">
                      <div class="image-frame image-frame-style-1 image-frame-effect-2 mb-3">
                        <span class="image-frame-wrapper image-frame-wrapper-overlay-bottom image-frame-wrapper-overlay-light image-frame-wrapper-align-end">
                          <a [routerLink]=" item.oogstkaartItemID">
                            <img [src]="root + '/uploads/images/' + item.avatar?.uri" class="img-fluid resize" alt="">
                          </a>
                          <span class="image-frame-action">
                            <a [routerLink]=" item.oogstkaartItemID" class="btn btn-primary btn-rounded font-weight-semibold btn-v-3 btn-fs-2">Bekijk product</a>
                          </span>
                        </span>
                      </div>
                      <div class="product-info d-flex flex-column flex-lg-row justify-content-between">
                        <div *ngIf="!item.sold" class="product-info-title">
                          <h3 class="text-color-default text-2 line-height-1 mb-1">
                            <a [routerLink]=" item.oogstkaartItemID">{{item.artikelnaam}}</a>
                          </h3>
                          <span *ngIf="item.vraagPrijsTotaal === 0 || item.vraagPrijsPerEenheid === 0  " class="price font-primary text-4">
                            <strong> Prijs overeen te komen</strong>
                          </span>
                          <span *ngIf="item.vraagPrijsTotaal !== 0 " class="price font-primary text-4">
                            <strong class="text-color-dark">€ {{item.vraagPrijsTotaal}} </strong>
                          </span>
                          <span *ngIf="item.vraagPrijsPerEenheid !== 0 " class="old-price font-primary text-1">
                            <strong class="text-color-default">€ {{item.vraagPrijsPerEenheid}} / stuk</strong>
                          </span>
                        </div>
                        <div *ngIf="item.sold" class="product-info-title">
                          <h3 class="text-color-default text-2 line-height-1 mb-1">
                            <a [routerLink]=" item.oogstkaartItemID">{{item.artikelnaam}}</a>
                          </h3>
                          <span class="price font-primary text-4 red">
                            <strong> Product verkocht</strong>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
        
        
        
        
                </div>
          </div>
          
        </div>
      </div>

      
    <div class="row">





      <div class="col">
     
      </div>
    </div>
  </div>

  <section class="section bg-dark-4 py-5 mt-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-2">
          <h2 class="text-color-light text-4">Nieuwsbrief</h2>
        </div>
        <div class="col-md-4">
          <p>Schrijf uw in voor onze nieuwsbrief en ontvang periodiek nieuwe producten.</p>
        </div>
        <div class="col-md-6">

          <form class="newsletter-form" action="php/newsletter-subscribe.php" method="POST">
            <div class="newsletter-form-success alert alert-success d-none">
              <strong>Success!</strong> You've been added to our email list.
            </div>
            <div class="newsletter-form-error alert alert-danger d-none">
              <strong>Error!</strong> There was an error to add your email.
            </div>

            <div class="input-group bg-light rounded">
              <input type="email" class="newsletter-email form-control border-0 rounded" placeholder="Geef uw email in." aria-label="Geef uw email in."
                required>
              <span class="input-group-btn p-1">
                <button class="btn btn-primary font-weight-semibold btn-h-2 rounded h-100" type="submit">Inschrijven</button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</div>

<div *ngIf="!items" class="loading">Loading&#8230;</div>